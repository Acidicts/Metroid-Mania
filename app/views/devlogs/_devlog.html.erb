<% unless content_for?(:styles) %>
  <% content_for :styles do %>
    <style>
/* Styles for devlog content box */
.devlog-content {
  white-space: pre-wrap;
  margin: 10px 0;
  padding: 12px 14px;
  background-color: #f8fafc; /* subtle light background */
  border-left: 4px solid #007bff; /* accent color */
  border-radius: 6px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.05);
  color: #111827;
}

/* Variant for longer entries */
.devlog-content.long {
  background-color: #fff7ed;
  border-left-color: #f59e0b; /* amber accent */
}

/* Small mobile tweak */
@media (max-width: 480px) {
  .devlog-content { padding: 10px; font-size: 0.95rem; }
}
    </style>
  <% end %>
<% end %>

<div id="<%= dom_id devlog %>" style="border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; border-radius: 5px;">
  <h3 style="margin-top: 0; display: flex; justify-content: space-between; align-items: baseline;">
    <strong style=""><%= devlog.title %></strong>
    <small style="font-size: 0.8em; color: gray;"><%= devlog.log_date&.strftime("%b %-d, %Y") %></small>
  </h3>

  <% if devlog.ship_request.present? %>
    <p style="margin:6px 0;">
      <span style="background:#eef2ff; padding:4px 8px; border-radius:6px; font-weight:600;">Part of ship request: <%= link_to "##{devlog.ship_request.id}", project_ship_request_path(devlog.project, devlog.ship_request) %> (<%= devlog.ship_request.status %>)</span>
    </p>
  <% end %>

  <div class="devlog-content">
    <%= simple_format devlog.content %>
  </div>

  <% if devlog.duration_minutes && devlog.duration_minutes > 0 %>
    <p>
      <strong>Time logged:</strong> <%= format_duration(devlog.duration_minutes * 60) %>
    </p>
  <% end %>

  <p style="margin-top: 8px;">
    <% if defined?(current_user) && current_user && current_user == devlog.project.user %>
      <%= link_to "Edit", edit_project_devlog_path(devlog.project, devlog), class: "btn btn-sm" %>
      <%= button_to "Delete", [devlog.project, devlog], method: :delete, data: { confirm: "Are you sure you want to delete this devlog?" }, form: { style: "display: inline" }, class: "btn btn-sm btn-danger" %>
    <% end %>
  </p>

</div>
