<div id="<%= dom_id project %>">
  <h2><%= project.name %></h2>

  <p>
    <strong>Status:</strong>
    <%= project.status %>
  </p>

  <% if project.description.present? %>
  <p>
    <strong>Description:</strong>
    <%= project.description %>
  </p>
  <% end %>

  <% if project.readme_url.present? %>
  <p>
    <strong>Readme:</strong>
    <%= external_link_to project.readme_url, project.readme_url %>
  </p>
  <% end %>

  <p>
    <strong>GitHub Repo:</strong>
    <%= external_link_to project.repository_url, project.repository_url %>
  </p>

  <p>
    <strong>Hackatime Project(s):</strong>
    <% if defined?(local_assigns) && local_assigns[:@hackatime_breakdown] && @hackatime_breakdown.any? %>
      <ul>
        <% @hackatime_breakdown.each do |h| %>
          <li><%= h[:name] %> â€” <%= format_duration(h[:seconds]) %></li>
        <% end %>
      </ul>
    <% elsif project.hackatime_ids.present? && project.hackatime_ids.any? %>
      <%= project.hackatime_ids.join(", ") %>
    <% else %>
      <%= project.hackatime_id.presence || "Not Linked" %>
    <% end %>
  </p>

  <p>
    <strong>Total Time:</strong>
    <%= format_duration(project.total_seconds) %>
  </p>

  <p>
    <strong>Devlogged Time:</strong>
    <%= format_duration(project.total_devlogged_seconds) %>
  </p>

  <p>
    <strong>Undocumented Time:</strong>
    <%= format_duration([project.total_seconds.to_i - project.total_devlogged_seconds, 0].max) %>
  </p>

</div>
